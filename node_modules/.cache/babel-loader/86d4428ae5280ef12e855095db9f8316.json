{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-04-images/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-04-images/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Yukina\\\\OneDrive\\\\Desktop\\\\git\\\\goit-react-hw-04-images\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Searchbar}from'./SearchBar/SearchBar';import{ImageGallery}from'./ImageGallery/ImageGallery';import{Loader}from'./Loader/Loader';import{Button}from'./Button/Button';import{Modal}from'./Modal/Modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY='42481427-12d08fa9cedf5ba58e5021062';export var App=function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loader=_useState6[0],setLoader=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),images=_useState8[0],setImages=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showModal=_useState10[0],setShowModal=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),modalImageUrl=_useState12[0],setModalImageUrl=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),noMoreResults=_useState14[0],setNoMoreResults=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];useEffect(function(){if(query==='')return;var fetchPhotos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,newImages;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoader(true);_context.prev=1;_context.next=4;return axios.get(\"https://pixabay.com/api/?q=\".concat(query,\"&page=\").concat(page,\"&key=\").concat(API_KEY,\"&image_type=photo&orientation=horizontal&per_page=12\"));case 4:response=_context.sent;newImages=response.data.hits;if(newImages.length===0){setError(true);setImages([]);}else{setImages(newImages);setError(false);}_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error('Error fetching data:',_context.t0);setError(true);setImages([]);case 14:setLoader(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function fetchPhotos(){return _ref.apply(this,arguments);};}();fetchPhotos();},[query,page]);var handleSearch=function handleSearch(searchQuery){setQuery(searchQuery);setPage(1);setNoMoreResults(false);setError(false);};var handleLoadMore=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setPage(function(prevPage){return prevPage+1;});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handleLoadMore(){return _ref2.apply(this,arguments);};}();var handleImageClick=function handleImageClick(e){var largeImageUrl=e.target.getAttribute('data-large');setModalImageUrl(largeImageUrl);setShowModal(true);};var handleCloseModal=function handleCloseModal(){setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Searchbar,{handleSearch:handleSearch}),loader?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ImageGallery,{images:images,openModal:handleImageClick}),images.length>0&&!noMoreResults&&/*#__PURE__*/_jsx(Button,{onClick:handleLoadMore,children:\"Load More\"})]}),showModal&&/*#__PURE__*/_jsx(Modal,{imageUrl:modalImageUrl,onClose:handleCloseModal}),error&&/*#__PURE__*/_jsxs(\"p\",{className:\"info-noResults sorry\",children:[\"Sorry, there are no images matching '\",query,\"'. Please try again.\"]})]});};","map":{"version":3,"names":["React","useState","useEffect","axios","Searchbar","ImageGallery","Loader","Button","Modal","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","API_KEY","App","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","page","setPage","_useState5","_useState6","loader","setLoader","_useState7","_useState8","images","setImages","_useState9","_useState10","showModal","setShowModal","_useState11","_useState12","modalImageUrl","setModalImageUrl","_useState13","_useState14","noMoreResults","setNoMoreResults","_useState15","_useState16","error","setError","fetchPhotos","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","newImages","wrap","_callee$","_context","prev","next","get","concat","sent","data","hits","length","t0","console","stop","apply","arguments","handleSearch","searchQuery","handleLoadMore","_ref2","_callee2","_callee2$","_context2","prevPage","handleImageClick","e","largeImageUrl","target","getAttribute","handleCloseModal","className","children","openModal","onClick","imageUrl","onClose"],"sources":["C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-04-images/src/components/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Searchbar } from './SearchBar/SearchBar';\r\nimport { ImageGallery } from './ImageGallery/ImageGallery';\r\nimport { Loader } from './Loader/Loader';\r\nimport { Button } from './Button/Button';\r\nimport { Modal } from './Modal/Modal';\r\n\r\nconst API_KEY = '42481427-12d08fa9cedf5ba58e5021062';\r\n\r\nexport const App = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [loader, setLoader] = useState(false);\r\n  const [images, setImages] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImageUrl, setModalImageUrl] = useState('');\r\n  const [noMoreResults, setNoMoreResults] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (query === '') return;\r\n\r\n    const fetchPhotos = async () => {\r\n      setLoader(true);\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n        );\r\n        const newImages = response.data.hits;\r\n        if (newImages.length === 0) {\r\n          setError(true);\r\n          setImages([]);\r\n        } else {\r\n          setImages(newImages);\r\n          setError(false);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setError(true);\r\n        setImages([]);\r\n      }\r\n      setLoader(false);\r\n    };\r\n\r\n    fetchPhotos();\r\n  }, [query, page]);\r\n\r\n  const handleSearch = searchQuery => {\r\n    setQuery(searchQuery);\r\n    setPage(1);\r\n    setNoMoreResults(false);\r\n    setError(false);\r\n  };\r\n\r\n  const handleLoadMore = async () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const handleImageClick = e => {\r\n    const largeImageUrl = e.target.getAttribute('data-large');\r\n    setModalImageUrl(largeImageUrl);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Searchbar handleSearch={handleSearch} />\r\n      {loader ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <ImageGallery images={images} openModal={handleImageClick} />\r\n          {images.length > 0 && !noMoreResults && (\r\n            <Button onClick={handleLoadMore}>Load More</Button>\r\n          )}\r\n        </>\r\n      )}\r\n      {showModal && <Modal imageUrl={modalImageUrl} onClose={handleCloseModal} />}\r\n      {error && (\r\n        <p className=\"info-noResults sorry\">\r\n          Sorry, there are no images matching '{query}'. Please try again.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}